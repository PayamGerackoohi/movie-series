import{c as S,i as N,a as _,b as k,S as w,d as C,s as T,t as b,e as p,u as I,F}from"./index.1367974f.js";import{c as y,r as A}from"./general.78cd02fa.js";const B=t=>/^[^\/[\]\\=`@#\%\$^+{}|<>?]+$/.test(t);const H=b('<input id="edit-input" type="text" maxlength="30" placeholder="Edit Name">'),L=b('<button class="right-button"><img class="center-image" src="close.svg"></button>'),R=b('<div class="serie-item flex-stack"><div class="button-stack"><button class="left-button"><img class="center-image" src="remove.svg"></button><button id="serie-name" class="middle-button"></button><button><img class="center-image"></button></div><div class="button-stack"></div></div>'),V=t=>{const[r,o]=S(t.serie.name),[l,v]=S(r()),[a,d]=S(!1);function f(){if(a()){const n=l().trim();if(n===r()){$();return}t.checkNewName(n,()=>{t.renameSerie(n,t.index()),o(n),d(u=>!u)})}else d(n=>!n)}function $(){d(!1),v(r())}return(()=>{const n=R.cloneNode(!0),u=n.firstChild,e=u.firstChild,s=e.nextSibling,c=s.nextSibling,h=c.firstChild,m=u.nextSibling;return e.$$click=()=>t.removeSerie(t.index()),s.$$click=()=>t.goToSerie(r()),N(s,r),c.$$click=()=>f(),N(m,_(w,{get when(){return a()},get children(){return[(()=>{const i=H.cloneNode(!0);return i.$$input=g=>v(g.currentTarget.value),k(()=>i.value=l()),i})(),(()=>{const i=L.cloneNode(!0);return i.$$click=()=>$(),i})()]}})),k(i=>{const g=`${a()?"rect-button":"right-button"}`,x=a()?"check.svg":"edit.svg";return g!==i._v$&&C(c,i._v$=g),x!==i._v$2&&T(h,"src",i._v$2=x),i},{_v$:void 0,_v$2:void 0}),n})()};p(["click","input"]);const E=t=>alert(t),j=()=>E("Error: Invalid Serie Name!"),q=()=>E("Error: Serie is saved before!");const z=b('<div class="Home"><div class="button-stack"><input id="serie-input" type="text" maxlength="30" placeholder="New Serie"><button class="right-button"><img class="center-image" src="add.svg"></button></div></div>'),J=()=>{const[t,r]=S(""),[o,l]=y("Series"),v=I(),a=()=>d(t(),e=>{l([...o,{name:e,seasons:[]}]),r("")});function d(e,s){f(e)?q():B(e)?s(e):j()}const f=e=>o.map(s=>s.name).includes(e),$=e=>v("/"+e),n=e=>l(A(o,e)),u=(e,s)=>l(s,"name",e);return(()=>{const e=z.cloneNode(!0),s=e.firstChild,c=s.firstChild,h=c.nextSibling;return c.$$input=m=>r(m.currentTarget.value),h.$$click=a,N(e,_(F,{each:o,children:(m,i)=>_(V,{serie:m,index:i,goToSerie:$,removeSerie:n,renameSerie:u,checkNewName:d})}),null),k(()=>c.value=t()),e})()};p(["input","click"]);export{J as default};
//# sourceMappingURL=home.653d15b6.js.map
