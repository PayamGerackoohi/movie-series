import{j as q,h as z,a as b,L as D,b as v,i as $,F as C,k as G,s as H,t as i,f as a,d as J}from"./index.0a4a5e0e.js";import{c as K,a as E,b as M,p as O}from"./store.2f397816.js";const Q=i("<span> - </span>"),U=i('<label>Episode Add/Remove Count: <input type="number"></label>'),V=i("<p>Serie: <button>+</button><button>-</button></p>"),W=i("<details><summary>Season <button>+</button><button>-</button></summary></details>"),X=i("<button>Episode </button>"),ee=()=>{const m=q(),[f,k]=K("Series"),_=f.findIndex(e=>e.name===m.serie),[u,r]=E(f[_].seasons),N=u.findIndex(e=>e.some(t=>!t)),[A,d]=E(u.map((e,t)=>N===t)),[h,g]=M("AddCount",1),x=()=>a(()=>{r(e=>[...e,[]]),d(e=>[...e,!0])}),y=()=>a(()=>{r(e=>e.slice(0,e.length-1)),d(e=>e.slice(0,e.length-1))}),L=e=>a(()=>{r(e,t=>[...t,0]),d(e,()=>!0)}),I=e=>a(()=>{r(e,t=>t.slice(0,t.length-1)),d(e,()=>!0)}),F=e=>S(()=>L(e)),R=e=>S(()=>I(e)),S=e=>a(()=>Array.from({length:h()}).forEach(e)),j=(e,t)=>r(e,O(n=>n[t]=w(n[t]))),w=e=>e?0:1;z(()=>a(()=>{k(_,{name:m.serie,seasons:u})}));function B(e){const t=e.currentTarget.valueAsNumber;g(t),(!t||t<=1)&&g(1)}return[b(D,{href:"/",children:"Back"}),Q.cloneNode(!0),(()=>{const e=U.cloneNode(!0),t=e.firstChild,n=t.nextSibling;return n.$$input=B,v(()=>n.value=h()),e})(),(()=>{const e=V.cloneNode(!0),t=e.firstChild,n=t.nextSibling,c=n.nextSibling;return $(e,()=>m.serie,n),n.$$click=x,c.$$click=y,e})(),b(C,{each:u,children:(e,t)=>(()=>{const n=W.cloneNode(!0),c=n.firstChild,P=c.firstChild,p=P.nextSibling,T=p.nextSibling;return $(c,()=>t()+1,p),p.$$click=()=>F(t()),T.$$click=()=>R(t()),$(n,b(C,{each:e,children:(o,l)=>(()=>{const s=X.cloneNode(!0);return s.firstChild,s.$$click=()=>j(t(),l()),G(s,o?"seen":"new"),$(s,()=>l()+1,null),s})()}),null),v(o=>{const l=A[t()],s=e.length===0?"":void 0;return l!==o._v$&&(n.open=o._v$=l),s!==o._v$2&&H(c,"empty",o._v$2=s),o},{_v$:void 0,_v$2:void 0}),n})()})]};J(["input","click"]);export{ee as default};
//# sourceMappingURL=serie.f95b7128.js.map
