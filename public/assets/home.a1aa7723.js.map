{"version":3,"file":"home.a1aa7723.js","sources":["../../src/data/validator.jsx","../../src/pages/modules/serie-item.jsx","../../src/pages/modules/error.jsx","../../src/pages/home.jsx"],"sourcesContent":["export const isValidName = (name) => /^[\\w\\d-_.!,'\":&*() ]+$/.test(name)\n","import { createSignal, Show } from 'solid-js'\n\n/**\n * @argument index: number\n * @argument serie: { name: string }\n * @argument removeSerie(index: number): void\n * @argument goToSerie(name: string): void\n * @argument renameSerie(name: string, index: number): void\n * @argument checkNewName(name: string, success: (name: string) => void): void\n */\nexport default (params) => {\n\tconst [name, setName] = createSignal(params.serie.name)\n\tconst [newName, setNewName] = createSignal(name())\n\tconst [edit, setEdit] = createSignal(false)\n\tfunction onEdit() {\n\t\tif (edit()) {\n\t\t\tparams.checkNewName(newName().trim(), () => {\n\t\t\t\tparams.renameSerie(newName(), params.index())\n\t\t\t\tsetName(newName())\n\t\t\t\tsetEdit(e => !e)\n\t\t\t})\n\t\t} else\n\t\t\tsetEdit(e => !e)\n\t}\n\tfunction closeEdit() {\n\t\tsetEdit(false)\n\t\tsetNewName(name())\n\t}\n\treturn <>\n\t\t<div>\n\t\t\t<button onClick={() => params.removeSerie(params.index())}>-</button>\n\t\t\t<button onClick={() => params.goToSerie(name())}>{name()}</button>\n\t\t\t<button onClick={() => onEdit()}>\n\t\t\t\t<Show when={edit()} fallback='edit'>Ok</Show>\n\t\t\t</button>\n\t\t\t<Show when={edit()}>\n\t\t\t\t<input\n\t\t\t\t\ttype='text'\n\t\t\t\t\tvalue={newName()}\n\t\t\t\t\tplaceholder='Edit Name'\n\t\t\t\t\tonInput={e => setNewName(e.currentTarget.value)}>\n\t\t\t\t</input>\n\t\t\t\t<button onClick={() => closeEdit()}>x</button>\n\t\t\t</Show>\n\t\t</div>\n\t</>\n}\n","export const info = message => alert(message)\nexport const invalidSerieNameError = () => info('Error: Invalid Serie Name!')\nexport const serieIsSavedBeforeError = () => info('Error: Serie is saved before!')\n","import { createSignal, For } from 'solid-js'\nimport { useNavigate } from 'solid-app-router';\n\nimport { createLocalStore, removeFromStore } from '../data/store'\nimport { isValidName } from '../data/validator'\n\nimport SerieItem from './modules/serie-item'\nimport { invalidSerieNameError, serieIsSavedBeforeError } from './modules/error';\n\nimport './home.sass'\n\nexport default () => {\n\tconst [name, setName] = createSignal('')\n\tconst [series, setSeries] = createLocalStore('Series')\n\tconst navigate = useNavigate()\n\tconst addSerie = () => checkNewName(name(), name => {\n\t\tsetSeries([...series, { name: name, seasons: [] }])\n\t\tsetName('')\n\t})\n\tfunction checkNewName(name, success) {\n\t\tif (isSerieSaved(name))\n\t\t\tserieIsSavedBeforeError()\n\t\telse if (isValidName(name))\n\t\t\tsuccess(name)\n\t\telse\n\t\t\tinvalidSerieNameError()\n\t}\n\tconst isSerieSaved = name => series.map(it => it.name).includes(name)\n\tconst goToSerie = serie => navigate('/' + serie)\n\tconst removeSerie = index => setSeries(removeFromStore(series, index))\n\tconst renameSerie = (name, index) => setSeries(index, 'name', name)\n\treturn <div class='Home'>\n\t\t<input\n\t\t\ttype='text'\n\t\t\tvalue={name()}\n\t\t\tplaceholder='New Serie'\n\t\t\tonInput={e => setName(e.currentTarget.value)}>\n\t\t</input>\n\t\t<button onClick={addSerie}>+</button>\n\t\t<For each={series}>{(serie, index) =>\n\t\t\t<SerieItem serie={serie} index={index} goToSerie={goToSerie} removeSerie={removeSerie}\n\t\t\t\trenameSerie={renameSerie} checkNewName={checkNewName} />\n\t\t}\n\t\t</For>\n\t</div>\n}\n"],"names":["isValidName","name","test","SerieItem","params","setName","createSignal","serie","newName","setNewName","edit","setEdit","onEdit","checkNewName","trim","renameSerie","index","e","closeEdit","_el$","_tmpl$3","_el$2","_el$3","_el$4","removeSerie","goToSerie","_$insert","_$createComponent","Show","_el$5","_tmpl$","currentTarget","value","_$effect","_el$6","_tmpl$2","_$delegateEvents","info","message","alert","invalidSerieNameError","serieIsSavedBeforeError","home","series","setSeries","createLocalStore","navigate","useNavigate","addSerie","seasons","success","isSerieSaved","map","it","includes","removeFromStore","For"],"mappings":"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"}