import{c as $,i as S,a as N,S as h,b as g,t as v,d as p,u as w,F as x}from"./index.0a4a5e0e.js";import{c as E,r as T}from"./store.2f397816.js";const C=t=>/^[\w\d-_.!,'":&*() ]+$/.test(t),F=v('<input type="text" placeholder="Edit Name">'),I=v("<button>x</button>"),y=v("<div><button>-</button><button></button><button></button></div>"),B=t=>{const[c,s]=$(t.serie.name),[i,d]=$(c()),[a,l]=$(!1);function f(){a()?t.checkNewName(i().trim(),()=>{t.renameSerie(i(),t.index()),s(i()),l(r=>!r)}):l(r=>!r)}function b(){l(!1),d(c())}return(()=>{const r=y.cloneNode(!0),m=r.firstChild,e=m.nextSibling,n=e.nextSibling;return m.$$click=()=>t.removeSerie(t.index()),e.$$click=()=>t.goToSerie(c()),S(e,c),n.$$click=()=>f(),S(n,N(h,{get when(){return a()},fallback:"edit",children:"Ok"})),S(r,N(h,{get when(){return a()},get children(){return[(()=>{const o=F.cloneNode(!0);return o.$$input=u=>d(u.currentTarget.value),g(()=>o.value=i()),o})(),(()=>{const o=I.cloneNode(!0);return o.$$click=()=>b(),o})()]}}),null),r})()};p(["click","input"]);const _=t=>alert(t),H=()=>_("Error: Invalid Serie Name!"),L=()=>_("Error: Serie is saved before!");const O=v('<div class="Home"><input type="text" placeholder="New Serie"><button>+</button></div>'),j=()=>{const[t,c]=$(""),[s,i]=E("Series"),d=w(),a=()=>l(t(),e=>{i([...s,{name:e,seasons:[]}]),c("")});function l(e,n){f(e)?L():C(e)?n(e):H()}const f=e=>s.map(n=>n.name).includes(e),b=e=>d("/"+e),r=e=>i(T(s,e)),m=(e,n)=>i(n,"name",e);return(()=>{const e=O.cloneNode(!0),n=e.firstChild,o=n.nextSibling;return n.$$input=u=>c(u.currentTarget.value),o.$$click=a,S(e,N(x,{each:s,children:(u,k)=>N(B,{serie:u,index:k,goToSerie:b,removeSerie:r,renameSerie:m,checkNewName:l})}),null),g(()=>n.value=t()),e})()};p(["input","click"]);export{j as default};
//# sourceMappingURL=home.a1aa7723.js.map
